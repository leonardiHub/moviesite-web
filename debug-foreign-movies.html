<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Foreign Movies</title>
    <style>
        body {
            background: #0a0c12;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .debug-info {
            background: #1a1a1a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .movie-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 20px;
            margin: 20px 0;
        }
        .movie-card {
            background: #333;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }
        .movie-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 4px;
        }
        @media (max-width: 768px) {
            .movie-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>Debug Foreign Movies Page</h1>
    
    <div class="debug-info">
        <h2>Data Status</h2>
        <p>Foreign Movies Count: <span id="foreign-count">-</span></p>
        <p>Demo Items Count: <span id="demo-count">-</span></p>
        <p>Page Items Count: <span id="page-count">-</span></p>
        <p>Current Page: <span id="current-page">-</span></p>
    </div>

    <div class="debug-info">
        <h2>First 6 Movies Preview</h2>
        <div id="movie-grid" class="movie-grid"></div>
    </div>

    <script>
        // 模拟外国电影数据
        const foreignMovies = [
            { id: 'foreign-1', title: 'Avengers: Endgame', posterUrl: 'https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg', year: '2019', genre: 'Action', rating: '8.4' },
            { id: 'foreign-2', title: 'Spider-Man: No Way Home', posterUrl: 'https://image.tmdb.org/t/p/w500/1g0dhYtq4irTY1GPXvft6k4YLjm.jpg', year: '2021', genre: 'Action', rating: '8.2' },
            { id: 'foreign-3', title: 'Top Gun: Maverick', posterUrl: 'https://image.tmdb.org/t/p/w500/62HCnUTziyWcpDaBO2i1DX17ljH.jpg', year: '2022', genre: 'Action', rating: '8.3' },
            { id: 'foreign-4', title: 'The Batman', posterUrl: 'https://image.tmdb.org/t/p/w500/b0PlSFdDwbyK0cf5RxwDpaOJQvQ.jpg', year: '2022', genre: 'Action', rating: '7.8' },
            { id: 'foreign-5', title: 'Dune', posterUrl: 'https://image.tmdb.org/t/p/w500/d5NXSklXo0qyIYkgV94XAgMIckC.jpg', year: '2021', genre: 'Sci-Fi', rating: '8.0' },
            { id: 'foreign-6', title: 'John Wick: Chapter 4', posterUrl: 'https://image.tmdb.org/t/p/w500/vZloFAK7NmvMGKE7VkF5UHaz0I.jpg', year: '2023', genre: 'Action', rating: '7.7' }
        ];

        const pageSize = 24;
        const totalPages = 133;
        
        // 生成演示数据
        const totalItems = pageSize * totalPages;
        const demoAllItems = Array.from({ length: totalItems }, (_, i) => {
            const base = foreignMovies[i % foreignMovies.length];
            return { ...base, id: `foreign-${i + 1}` };
        });

        const currentPage = 1;
        const pageStart = (currentPage - 1) * pageSize;
        const pageItems = demoAllItems.slice(pageStart, pageStart + pageSize);

        // 更新调试信息
        document.getElementById('foreign-count').textContent = foreignMovies.length;
        document.getElementById('demo-count').textContent = demoAllItems.length;
        document.getElementById('page-count').textContent = pageItems.length;
        document.getElementById('current-page').textContent = currentPage;

        // 渲染前6个电影
        const movieGrid = document.getElementById('movie-grid');
        const first6Movies = pageItems.slice(0, 6);
        
        first6Movies.forEach(movie => {
            const card = document.createElement('div');
            card.className = 'movie-card';
            card.innerHTML = `
                <img src="${movie.posterUrl}" alt="${movie.title}" onerror="this.style.background='red'; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzMzMyIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkVSUk9SPC90ZXh0Pjwvc3ZnPg==' />
                <h4>${movie.title}</h4>
                <p>Year: ${movie.year} | Rating: ${movie.rating}</p>
            `;
            movieGrid.appendChild(card);
        });

        console.log('Debug Info:', {
            foreignMovies: foreignMovies.length,
            demoAllItems: demoAllItems.length,
            pageItems: pageItems.length,
            currentPage,
            first6Movies
        });
    </script>
</body>
</html>
